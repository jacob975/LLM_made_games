# é…ç½®æ–‡ä»¶èªªæ˜ - actions.yaml

## ğŸ“ æ¦‚è¿°
`actions.yaml` æ–‡ä»¶åŒ…å«äº†æ¸›è‚¥å¹³è¡¡éŠæˆ²çš„æ‰€æœ‰é…ç½®ï¼ŒåŒ…æ‹¬è¡Œå‹•å®šç¾©å’ŒéŠæˆ²è¨­å®šã€‚ä½ å¯ä»¥ä¿®æ”¹é€™å€‹æ–‡ä»¶ä¾†è‡ªå®šç¾©éŠæˆ²é«”é©—ã€‚

## ğŸ® è¡Œå‹•é…ç½® (actions)

æ¯å€‹è¡Œå‹•åŒ…å«ä»¥ä¸‹å±¬æ€§ï¼š

### åŸºæœ¬å±¬æ€§
- **name** (å­—ä¸²): è¡Œå‹•åç¨±ï¼Œé¡¯ç¤ºåœ¨éŠæˆ²ç•Œé¢ä¸­
- **description** (å­—ä¸²): è¡Œå‹•æè¿°ï¼Œè§£é‡‹é€™å€‹è¡Œå‹•çš„å…§å®¹
- **energy_cost** (æ•¸å­—): é«”åŠ›æ¶ˆè€—ï¼Œç›®å‰æœªä½¿ç”¨ä½†ä¿ç•™ç‚ºæœªä¾†åŠŸèƒ½

### æ•ˆæœé…ç½® (effects)
effects éƒ¨åˆ†å®šç¾©è¡Œå‹•å°å„é …æŒ‡æ•¸çš„å½±éŸ¿ï¼š

- **weight** (æµ®é»æ•¸): å°é«”é‡çš„å½±éŸ¿ (kg)
  - è² æ•¸ = æ¸›é‡
  - æ­£æ•¸ = å¢é‡
  - ç¯„ä¾‹: -0.5 è¡¨ç¤ºæ¸›é‡0.5kg

- **health** (æ•´æ•¸): å°å¥åº·çš„å½±éŸ¿ (0-100)
  - æ­£æ•¸ = å¢åŠ å¥åº·
  - è² æ•¸ = æ¸›å°‘å¥åº·
  - ç¯„ä¾‹: 8 è¡¨ç¤ºå¢åŠ 8é»å¥åº·

- **happiness** (æ•´æ•¸): å°å¿«æ¨‚çš„å½±éŸ¿ (0-100)
  - æ­£æ•¸ = å¢åŠ å¿«æ¨‚
  - è² æ•¸ = æ¸›å°‘å¿«æ¨‚

- **wealth** (æ•´æ•¸): å°è²¡å¯Œçš„å½±éŸ¿ (0-100)
  - æ­£æ•¸ = å¢åŠ è²¡å¯Œ
  - è² æ•¸ = æ¸›å°‘è²¡å¯Œ

- **knowledge** (æ•´æ•¸): å°çŸ¥è­˜çš„å½±éŸ¿ (0-100)
  - æ­£æ•¸ = å¢åŠ çŸ¥è­˜
  - è² æ•¸ = æ¸›å°‘çŸ¥è­˜

- **social** (æ•´æ•¸): å°ç¤¾äº¤çš„å½±éŸ¿ (0-100)
  - æ­£æ•¸ = å¢åŠ ç¤¾äº¤
  - è² æ•¸ = æ¸›å°‘ç¤¾äº¤

### è¡Œå‹•ç¯„ä¾‹
```yaml
- name: "é‹å‹•"
  description: "å»å¥èº«æˆ¿é‹å‹•1å°æ™‚"
  effects:
    weight: -0.5      # æ¸›é‡0.5kg
    health: 8         # å¢åŠ 8é»å¥åº·
    happiness: -3     # æ¸›å°‘3é»å¿«æ¨‚
  energy_cost: 15     # é«”åŠ›æ¶ˆè€—15é»
```

## âš™ï¸ éŠæˆ²è¨­å®š (game_settings)

### åˆå§‹æ•¸å€¼ (initial_stats)
å®šç¾©è§’è‰²é–‹å§‹æ™‚çš„å„é …æŒ‡æ•¸ï¼š
```yaml
initial_stats:
  weight: 80.0        # åˆå§‹é«”é‡ (kg)
  health: 50          # åˆå§‹å¥åº· (0-100)
  happiness: 50       # åˆå§‹å¿«æ¨‚ (0-100)
  wealth: 50          # åˆå§‹è²¡å¯Œ (0-100)
  knowledge: 50       # åˆå§‹çŸ¥è­˜ (0-100)
  social: 50          # åˆå§‹ç¤¾äº¤ (0-100)
```

### éŠæˆ²ç›®æ¨™
- **target_weight** (æµ®é»æ•¸): ç›®æ¨™é«”é‡ (kg)
- **max_days** (æ•´æ•¸): æœ€å¤§éŠæˆ²å¤©æ•¸

### å¤±æ•—æ¢ä»¶ (failure_thresholds)
å®šç¾©ä»€éº¼æƒ…æ³ä¸‹éŠæˆ²å¤±æ•—ï¼š
```yaml
failure_thresholds:
  health: 10          # å¥åº·ä½æ–¼æ­¤å€¼æœƒå¤±æ•—
  happiness: 10       # å¿«æ¨‚ä½æ–¼æ­¤å€¼æœƒå¤±æ•—
```

### æ•¸å€¼é™åˆ¶ (stat_limits)
å®šç¾©å„é …æŒ‡æ•¸çš„æœ€å¤§æœ€å°å€¼ï¼š
```yaml
stat_limits:
  weight_min: 40.0    # æœ€ä½é«”é‡
  weight_max: 150.0   # æœ€é«˜é«”é‡
  stat_min: 0         # å…¶ä»–æŒ‡æ•¸æœ€å°å€¼
  stat_max: 100       # å…¶ä»–æŒ‡æ•¸æœ€å¤§å€¼
```

## ğŸ² éš¨æ©Ÿäº‹ä»¶ç³»çµ± (random_events)

### éš¨æ©Ÿäº‹ä»¶é…ç½®
```yaml
random_events:
  probability: 0.3    # æ¯æ—¥éš¨æ©Ÿäº‹ä»¶è§¸ç™¼æ©Ÿç‡ (0.0-1.0)
  events:             # éš¨æ©Ÿäº‹ä»¶åˆ—è¡¨
    - name: "äº‹ä»¶åç¨±"
      description: "äº‹ä»¶æè¿°æ–‡å­—"
      effects:          # å°æŒ‡æ•¸çš„å½±éŸ¿
        happiness: 3
        social: 2
      weight: 15        # äº‹ä»¶æ¬Šé‡ï¼Œæ•¸å­—è¶Šå¤§è¶Šå®¹æ˜“ç™¼ç”Ÿ
```

### äº‹ä»¶æ¬Šé‡ç³»çµ±
- æ¬Šé‡è¶Šé«˜çš„äº‹ä»¶è¶Šå®¹æ˜“è¢«é¸ä¸­
- æ¬Šé‡ç‚ºç›¸å°å€¼ï¼Œç¸½å’Œæœƒè‡ªå‹•è¨ˆç®—
- å»ºè­°ç¯„åœï¼š1-20

### éš¨æ©Ÿäº‹ä»¶ç¤ºä¾‹
```yaml
events:
  - name: "æœ‹å‹é¼“å‹µ"
    description: "æ”¶åˆ°æœ‹å‹çš„é¼“å‹µè¨Šæ¯ï¼"
    effects:
      happiness: 3
      social: 2
    weight: 15          # é«˜æ¬Šé‡ï¼Œç¶“å¸¸ç™¼ç”Ÿ
    
  - name: "æ„å¤–æ”¶ç©«"
    description: "è·¯ä¸Šæ’¿åˆ°é›¶éŒ¢"
    effects:
      wealth: 2
      happiness: 1
    weight: 5           # ä½æ¬Šé‡ï¼Œå¶çˆ¾ç™¼ç”Ÿ
```

## ğŸ¯ æ¢ä»¶äº‹ä»¶ç³»çµ± (conditional_events)

### æ¢ä»¶äº‹ä»¶çµæ§‹
```yaml
conditional_events:
  - condition:          # è§¸ç™¼æ¢ä»¶
      stat: "health"    # æª¢æŸ¥çš„æŒ‡æ•¸
      operator: "<"     # æ¯”è¼ƒé‹ç®—å­
      value: 20         # é–¾å€¼
    event:              # è§¸ç™¼çš„äº‹ä»¶
      name: "ç–²å€¦ç‹€æ…‹"
      description: "å› ç‚ºå¥åº·ç‹€æ³ä¸ä½³ï¼Œä»Šå¤©æ„Ÿåˆ°å¾ˆç–²å€¦..."
      effects:
        happiness: -5
    probability: 0.8    # æ»¿è¶³æ¢ä»¶æ™‚çš„è§¸ç™¼æ©Ÿç‡
```

### æ”¯æ´çš„é‹ç®—å­
- `<` : å°æ–¼
- `>` : å¤§æ–¼  
- `<=` : å°æ–¼ç­‰æ–¼
- `>=` : å¤§æ–¼ç­‰æ–¼
- `==` : ç­‰æ–¼
- `!=` : ä¸ç­‰æ–¼

### æ¢ä»¶äº‹ä»¶ç¤ºä¾‹
```yaml
# ä½å¥åº·è­¦å‘Š
- condition:
    stat: "health"
    operator: "<"
    value: 20
  event:
    name: "ç–²å€¦ç‹€æ…‹"
    description: "å› ç‚ºå¥åº·ç‹€æ³ä¸ä½³ï¼Œä»Šå¤©æ„Ÿåˆ°å¾ˆç–²å€¦..."
    effects:
      happiness: -5
  probability: 0.8

# é«˜ç¤¾äº¤çå‹µ
- condition:
    stat: "social"
    operator: ">"
    value: 80
  event:
    name: "æœ‹å‹é—œæ‡·"
    description: "æœ‹å‹å€‘éƒ½å¾ˆé—œå¿ƒä½ çš„è¿‘æ³ï¼Œæ„Ÿè¦ºå¾ˆæº«æš–ï¼"
    effects:
      happiness: 3
  probability: 0.5
```

## ğŸ¯ è‡ªå®šç¾©å»ºè­°

### 1. èª¿æ•´é›£åº¦
- **å¢åŠ é›£åº¦**: é™ä½positive effectsï¼Œå¢åŠ negative effects
- **é™ä½é›£åº¦**: å¢åŠ positive effectsï¼Œé™ä½negative effects
- **å»¶é•·éŠæˆ²**: å¢åŠ  max_days
- **ç¸®çŸ­éŠæˆ²**: æ¸›å°‘ max_days

### 2. æ·»åŠ æ–°è¡Œå‹•
```yaml
- name: "æ¸¸æ³³"
  description: "åœ¨æ³³æ± æ¸¸æ³³45åˆ†é˜"
  effects:
    weight: -0.4
    health: 6
    happiness: 4
    social: 2
  energy_cost: 12
```

### 3. è‡ªå®šç¾©éš¨æ©Ÿäº‹ä»¶
```yaml
# æ·»åŠ å­£ç¯€æ€§äº‹ä»¶
- name: "æ˜¥å¤©ä¾†è‡¨"
  description: "æ˜¥æš–èŠ±é–‹ï¼Œå¿ƒæƒ…ç‰¹åˆ¥å¥½"
  effects:
    happiness: 5
    health: 2
  weight: 8

# æ·»åŠ æŒ‘æˆ°äº‹ä»¶
- name: "é£Ÿç‰©ä¸­æ¯’"
  description: "åƒå£è‚šå­ï¼Œèº«é«”ä¸é©"
  effects:
    health: -5
    happiness: -3
  weight: 3
```

### 4. å‰µå»ºæ¢ä»¶äº‹ä»¶éˆ
```yaml
# é«”é‡é€²å±•çå‹µ
- condition:
    stat: "weight"
    operator: "<="
    value: 70
  event:
    name: "æ¸›é‡é‡Œç¨‹ç¢‘"
    description: "é”åˆ°é‡è¦çš„æ¸›é‡é‡Œç¨‹ç¢‘ï¼"
    effects:
      happiness: 6
      social: 3
  probability: 1.0
```

### 5. å¹³è¡¡èª¿æ•´
- ç¢ºä¿æœ‰è¶³å¤ çš„æ¸›é‡è¡Œå‹•
- å¹³è¡¡æ­£é¢å’Œè² é¢æ•ˆæœ
- è€ƒæ…®è¡Œå‹•ä¹‹é–“çš„ç›¸äº’é…åˆ
- èª¿æ•´éš¨æ©Ÿäº‹ä»¶çš„é »ç‡å’Œå½±éŸ¿

### 6. ä¸»é¡Œè®ŠåŒ–
ä½ å¯ä»¥ä¿®æ”¹è¡Œå‹•ä¾†é©æ‡‰ä¸åŒä¸»é¡Œï¼š
- **å­¸ç¿’ä¸»é¡Œ**: å°ˆæ³¨æ–¼çŸ¥è­˜å’ŒæŠ€èƒ½
- **ç¤¾äº¤ä¸»é¡Œ**: å°ˆæ³¨æ–¼äººéš›é—œä¿‚
- **å¥åº·ä¸»é¡Œ**: å°ˆæ³¨æ–¼èº«å¿ƒå¥åº·

## ğŸ® äº‹ä»¶ç³»çµ±æŠ€å·§

### æ¬Šé‡è¨­è¨ˆåŸå‰‡
- **æ­£é¢äº‹ä»¶**: æ¬Šé‡15-20ï¼ˆç¶“å¸¸ç™¼ç”Ÿï¼Œæå‡é«”é©—ï¼‰
- **ä¸­æ€§äº‹ä»¶**: æ¬Šé‡8-12ï¼ˆé©åº¦ç™¼ç”Ÿï¼‰
- **è² é¢äº‹ä»¶**: æ¬Šé‡3-8ï¼ˆå¶çˆ¾ç™¼ç”Ÿï¼Œå¢åŠ æŒ‘æˆ°ï¼‰

### æ¢ä»¶äº‹ä»¶è¨­è¨ˆ
- **ä½æŒ‡æ•¸è­¦å‘Š**: é«˜æ©Ÿç‡è§¸ç™¼ï¼Œæé†’ç©å®¶æ³¨æ„
- **é«˜æŒ‡æ•¸çå‹µ**: ä¸­ç­‰æ©Ÿç‡ï¼Œé¼“å‹µç©å®¶ç¶­æŒ
- **ç‰¹æ®Šé‡Œç¨‹ç¢‘**: ä¸€æ¬¡æ€§è§¸ç™¼ï¼Œæ…¶ç¥æˆå°±

### äº‹ä»¶å¹³è¡¡å»ºè­°
- æ¯å€‹æŒ‡æ•¸éƒ½æ‡‰è©²æœ‰ç›¸é—œçš„éš¨æ©Ÿäº‹ä»¶
- æ­£è² é¢äº‹ä»¶çš„ç¸½é«”å½±éŸ¿æ‡‰è©²å¹³è¡¡
- æ¢ä»¶äº‹ä»¶æ‡‰è©²æœ‰æ„ç¾©ä¸”ç¬¦åˆé‚è¼¯

## âš ï¸ æ³¨æ„äº‹é …

### æ–‡ä»¶æ ¼å¼
- ä½¿ç”¨æ­£ç¢ºçš„YAMLç¸®æ’ï¼ˆ2å€‹ç©ºæ ¼ï¼‰
- å­—ä¸²ä½¿ç”¨é›™å¼•è™ŸåŒ…åœ
- æ•¸å­—ä¸éœ€è¦å¼•è™Ÿ
- æ³¨æ„å†’è™Ÿå¾Œé¢è¦æœ‰ç©ºæ ¼

### æ•¸å€¼å¹³è¡¡
- é«”é‡è®ŠåŒ–å»ºè­°åœ¨ -1.0 åˆ° +1.0 ä¹‹é–“
- å…¶ä»–æŒ‡æ•¸è®ŠåŒ–å»ºè­°åœ¨ -10 åˆ° +10 ä¹‹é–“
- é¿å…éæ–¼æ¥µç«¯çš„æ•¸å€¼

### æ¸¬è©¦é…ç½®
ä¿®æ”¹é…ç½®å¾Œå»ºè­°ï¼š
1. é‡å•ŸéŠæˆ²æ¸¬è©¦
2. ç©å¹¾å¤©è§€å¯Ÿå¹³è¡¡æ€§
3. æ ¹æ“šé«”é©—èª¿æ•´æ•¸å€¼

## ğŸ”§ æ•…éšœæ’é™¤

### å¸¸è¦‹éŒ¯èª¤
1. **YAMLèªæ³•éŒ¯èª¤**: æª¢æŸ¥ç¸®æ’å’Œèªæ³•
2. **æ•¸å€¼é¡å‹éŒ¯èª¤**: ç¢ºä¿æ•¸å­—ä¸ç”¨å¼•è™ŸåŒ…åœ
3. **ç¼ºå°‘å¿…è¦å±¬æ€§**: ç¢ºä¿æ¯å€‹è¡Œå‹•éƒ½æœ‰ name, description, effects

### æ¢å¾©é è¨­
å¦‚æœé…ç½®å‡ºç¾å•é¡Œï¼Œåˆªé™¤ `config/actions.yaml` æ–‡ä»¶ï¼ŒéŠæˆ²æœƒè‡ªå‹•ä½¿ç”¨é è¨­é…ç½®ã€‚

## ğŸ’¡ é€²éšæŠ€å·§

### 1. æ¢ä»¶æ•ˆæœ
é›–ç„¶ç›®å‰ä¸æ”¯æ´ï¼Œä½†æœªä¾†å¯èƒ½æ·»åŠ åŸºæ–¼ç•¶å‰ç‹€æ…‹çš„æ¢ä»¶æ•ˆæœã€‚

### 2. éš¨æ©Ÿæ•ˆæœ
è€ƒæ…®æ·»åŠ æ•ˆæœç¯„åœï¼Œè®“åŒä¸€è¡Œå‹•æœ‰ä¸åŒçš„çµæœã€‚

### 3. å­£ç¯€è®ŠåŒ–
å¯ä»¥å‰µå»ºä¸åŒçš„é…ç½®æ–‡ä»¶ä¾†æ¨¡æ“¬å­£ç¯€æ€§è®ŠåŒ–ã€‚